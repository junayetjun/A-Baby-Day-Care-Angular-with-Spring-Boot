<app-cnavbar></app-cnavbar>

<div class="viewdetails-container" *ngIf="!loading; else loadingTemplate">

  <!-- Error Message -->
  <div *ngIf="errorMessage" class="error-box">
    {{ errorMessage }}
  </div>

  <!-- No Data -->
  <div *ngIf="!errorMessage && !caregiverDetails" class="empty-state">
    <p>No caregiver details found.</p>
  </div>

  <!-- Caregiver Card -->
  <div *ngIf="caregiverDetails" class="caregiver-card">
    <!-- Header -->
    <div class="card-header">
      <h3><strong>Circular Title:</strong> {{ caregiverDetails.jobTitle }}</h3>
      <p class="parent-info"><strong>Parent Name:</strong> {{ caregiverDetails.parentName }}</p>
    </div>

    <!-- Body -->
    <div class="card-body">
      <!-- Photo -->
      <div class="photo-box">
        <img 
          *ngIf="caregiverDetails.caregiver?.photo; else noPhoto"
          [src]="'http://localhost:8085/images/caregiver/' + caregiverDetails.caregiver?.photo" 
          alt="Profile Image" 
          class="hero-photo"
        >
        <ng-template #noPhoto>
          <div class="no-photo">No Photo</div>
        </ng-template>
      </div>

      <!-- Details -->
      <div class="caregiver-info">
        <h2 class="title">Caregiver Details</h2>
        <p><strong>Name:</strong> {{ caregiverDetails.caregiverName }}</p>
        <p><strong>Email:</strong> {{ caregiverDetails.caregiver?.email }}</p>
        <p><strong>Phone:</strong> {{ caregiverDetails.caregiver?.phone }}</p>
        <p><strong>Gender:</strong> {{ caregiverDetails.caregiver?.gender }}</p>
        <p><strong>Date of Birth:</strong> {{ caregiverDetails.caregiver?.dateOfBirth | date:'longDate' }}</p>
        <p><strong>Address:</strong> {{ caregiverDetails.caregiver?.address }}</p>
        <!-- <p><strong>Skill:</strong> {{ caregiverDetails.caregiver?.skill }}</p>
        <p><strong>Experience:</strong> {{ caregiverDetails.caregiver?.experience }}</p> -->
      </div>
    </div>

    <!-- Footer -->
    <!-- <div class="card-footer">
      <button class="back-btn" (click)="goBack()">Back</button>
    </div> -->
  </div>
</div>

<!-- Loading State -->
<ng-template #loadingTemplate>
  <div class="loading-box">
    <div class="spinner"></div>
    <p>Loading caregiver details...</p>
  </div>
</ng-template>
